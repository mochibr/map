<style>
  #map-canvas {
    height: 80px;
  }

  #pano {
    height: 160px;
  }
</style>
<div id="map-canvas"></div>
<div id="pano"></div>

<!-- Replace the value of the key parameter with your own API key. -->
<script
  async
  defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCkUOdZ5y7hMm0yrcCQoCvLwzdM6M8s5qk&libraries=geometry&callback=initialize"
></script>
<script>
  var map;
  var panorama;
  var panoramaService;
  var streetView;
  var placeCoords;

  function initialize() {
    placeCoords = new google.maps.LatLng(48.87501200000001, 2.2944579999999632);

    map = new google.maps.Map(document.getElementById("map-canvas"), {
      zoom: 5,
      center: placeCoords,
      mapTypeId: google.maps.MapTypeId.ROADMAP,
    });

    panoramaService = new google.maps.StreetViewService();

    var panoramaOptions = {
      disableDefaultUI: true,
    };

    panorama = new google.maps.StreetViewPanorama(
      document.getElementById("pano"),
      panoramaOptions
    );

    map.setStreetView(panorama);

    streetView = map.getStreetView();
    runPanoramaService();
  }

  function runPanoramaService() {
    panoramaService.getPanoramaByLocation(
      placeCoords,
      100,

      function (streetViewPanoramaData, streetViewStatus) {
        if (streetViewStatus == "OK") {
          let heading = google.maps.geometry.spherical.computeHeading(
            streetViewPanoramaData.location.latLng,
            placeCoords
          );

          streetView.setPosition(streetViewPanoramaData.location.latLng);

          streetView.setPov({
            heading: heading,
            pitch: 0,
          });

          streetView.setVisible(true);
        }
      }
    );
  }

  initialize();
</script>
